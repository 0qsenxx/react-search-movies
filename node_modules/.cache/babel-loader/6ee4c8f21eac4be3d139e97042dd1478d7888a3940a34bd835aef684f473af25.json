{"ast":null,"code":"import{useState,useEffect,useMemo}from\"react\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Reviews=()=>{const[reviews,setReviews]=useState([]);const[notFoundResults,setNotFoundResults]=useState(\"\");const{movieId}=useParams();const options=useMemo(()=>({method:\"GET\",headers:{accept:\"application/json\",Authorization:\"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNGY5ZWMwY2JmOGViMTBhNDdhNmY1Nzc3NTUyNTAzOCIsIm5iZiI6MTczMzU5Mjg4Mi4xODMsInN1YiI6IjY3NTQ4NzMyODcxYTQyYzljMjQ1NjlhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.sorPfk3DQRthB6ezndCgQSJ4wqTDhYFw6I8mLnxjSA4\"}}),[]);//   console.log(typeof reviews === 'object')\n//   console.log(reviews);\nuseEffect(()=>{fetch(\"https://api.themoviedb.org/3/movie/\".concat(movieId,\"/reviews?language=en-US&page=1\"),options).then(res=>res.json()).then(res=>{if(res.results.length>0){setReviews(res.results);}else setNotFoundResults(\"Unfourtantly, we couldnʼt find reviews about this film\");}).catch(err=>console.error(err));},[options,movieId]);return(reviews||notFoundResults)&&typeof reviews===\"stirng\"?/*#__PURE__*/_jsx(\"p\",{children:notFoundResults}):/*#__PURE__*/_jsx(\"ul\",{children:reviews.map(review=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Author: \",review.author]}),/*#__PURE__*/_jsx(\"p\",{children:review.content})]},review.id))});};export default Reviews;","map":{"version":3,"names":["useState","useEffect","useMemo","useParams","jsx","_jsx","jsxs","_jsxs","Reviews","reviews","setReviews","notFoundResults","setNotFoundResults","movieId","options","method","headers","accept","Authorization","fetch","concat","then","res","json","results","length","catch","err","console","error","children","map","review","author","content","id"],"sources":["/Users/senya/Desktop/react-movies-hw/src/components/Reviews/Reviews.jsx"],"sourcesContent":["import { useState, useEffect, useMemo } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [notFoundResults, setNotFoundResults] = useState(\"\");\n  const { movieId } = useParams();\n\n  const options = useMemo(\n    () => ({\n      method: \"GET\",\n      headers: {\n        accept: \"application/json\",\n        Authorization:\n          \"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJjNGY5ZWMwY2JmOGViMTBhNDdhNmY1Nzc3NTUyNTAzOCIsIm5iZiI6MTczMzU5Mjg4Mi4xODMsInN1YiI6IjY3NTQ4NzMyODcxYTQyYzljMjQ1NjlhMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.sorPfk3DQRthB6ezndCgQSJ4wqTDhYFw6I8mLnxjSA4\",\n      },\n    }),\n    []\n  );\n  //   console.log(typeof reviews === 'object')\n  //   console.log(reviews);\n\n  useEffect(() => {\n    fetch(\n      `https://api.themoviedb.org/3/movie/${movieId}/reviews?language=en-US&page=1`,\n      options\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        if (res.results.length > 0) {\n          setReviews(res.results);\n        } else\n          setNotFoundResults(\n            \"Unfourtantly, we couldnʼt find reviews about this film\"\n          );\n      })\n      .catch((err) => console.error(err));\n  }, [options, movieId]);\n\n  return (reviews || notFoundResults) && typeof reviews === \"stirng\" ? (\n    <p>{notFoundResults}</p>\n  ) : (\n    <ul>\n      {reviews.map((review) => (\n        <li key={review.id}>\n          {/* <img\n            src={`https://image.tmdb.org/t/p/w200/${review.author_details.avatar_path}`}\n            alt=\"reviewerImg\"\n          /> */}\n          <h2>Author: {review.author}</h2>\n          <p>{review.content}</p>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default Reviews;\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,OAAO,KAAQ,OAAO,CACpD,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,eAAe,CAAEC,kBAAkB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAAEa,OAAQ,CAAC,CAAGV,SAAS,CAAC,CAAC,CAE/B,KAAM,CAAAW,OAAO,CAAGZ,OAAO,CACrB,KAAO,CACLa,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACPC,MAAM,CAAE,kBAAkB,CAC1BC,aAAa,CACX,wPACJ,CACF,CAAC,CAAC,CACF,EACF,CAAC,CACD;AACA;AAEAjB,SAAS,CAAC,IAAM,CACdkB,KAAK,uCAAAC,MAAA,CACmCP,OAAO,mCAC7CC,OACF,CAAC,CACEO,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEC,GAAG,EAAK,CACb,GAAIA,GAAG,CAACE,OAAO,CAACC,MAAM,CAAG,CAAC,CAAE,CAC1Bf,UAAU,CAACY,GAAG,CAACE,OAAO,CAAC,CACzB,CAAC,IACC,CAAAZ,kBAAkB,CAChB,wDACF,CAAC,CACL,CAAC,CAAC,CACDc,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAAE,CAACb,OAAO,CAAED,OAAO,CAAC,CAAC,CAEtB,MAAO,CAACJ,OAAO,EAAIE,eAAe,GAAK,MAAO,CAAAF,OAAO,GAAK,QAAQ,cAChEJ,IAAA,MAAAyB,QAAA,CAAInB,eAAe,CAAI,CAAC,cAExBN,IAAA,OAAAyB,QAAA,CACGrB,OAAO,CAACsB,GAAG,CAAEC,MAAM,eAClBzB,KAAA,OAAAuB,QAAA,eAKEvB,KAAA,OAAAuB,QAAA,EAAI,UAAQ,CAACE,MAAM,CAACC,MAAM,EAAK,CAAC,cAChC5B,IAAA,MAAAyB,QAAA,CAAIE,MAAM,CAACE,OAAO,CAAI,CAAC,GANhBF,MAAM,CAACG,EAOZ,CACL,CAAC,CACA,CACL,CACH,CAAC,CAED,cAAe,CAAA3B,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}